<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Shop</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 10px; }
        .product { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; border-radius: 8px; }
        .cart { position: fixed; bottom: 20px; right: 20px; background: #0088cc; color: white; padding: 10px; border-radius: 50%; }
    </style>
</head>
<body>
    <h1>–ú–æ–π –º–∞–≥–∞–∑–∏–Ω</h1>
    
    <div id="products">
        <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
    </div>
    
    <div class="cart" onclick="openCart()">üõí <span id="cart-count">0</span></div>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤
        const products = [
            { id: 1, name: "–¢–æ–≤–∞—Ä 1", price: 100, description: "–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ 1" },
            { id: 2, name: "–¢–æ–≤–∞—Ä 2", price: 200, description: "–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ 2" },
            { id: 3, name: "–¢–æ–≤–∞—Ä 3", price: 300, description: "–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ 3" }
        ];
        
        let cart = [];
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
        function renderProducts() {
            const container = document.getElementById('products');
            container.innerHTML = '';
            
            products.forEach(product => {
                const productEl = document.createElement('div');
                productEl.className = 'product';
                productEl.innerHTML = `
                    <h3>${product.name}</h3>
                    <p>${product.description}</p>
                    <p><strong>–¶–µ–Ω–∞: ${product.price} —Ä—É–±.</strong></p>
                    <button onclick="addToCart(${product.id})">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                `;
                container.appendChild(productEl);
            });
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            cart.push(product);
            updateCartCount();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
        function updateCartCount() {
            document.getElementById('cart-count').textContent = cart.length;
        }
        
        // –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
        function openCart() {
            if (cart.length === 0) {
                alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞');
                return;
            }
            
            let message = '–í–∞—à –∑–∞–∫–∞–∑:\n';
            let total = 0;
            
            cart.forEach(item => {
                message += `${item.name} - ${item.price} —Ä—É–±.\n`;
                total += item.price;
            });
            
            message += `\n–ò—Ç–æ–≥–æ: ${total} —Ä—É–±.`;
            
            tg.showAlert(message);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', renderProducts);
    </script>
</body>
</html>